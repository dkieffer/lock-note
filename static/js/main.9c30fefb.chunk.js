(this["webpackJsonplock-note"]=this["webpackJsonplock-note"]||[]).push([[0],{10:function(e,t,n){e.exports=n(17)},15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(9),i=n.n(r),l=(n(15),n(3)),s=n(2),c=n(4),u=n(5),d=n(1),h=n(7),N=n(6);n(16);var g=function(e){var t="",n=e.title;return e.selectedNote===e.id&&(t+=" active"),o.a.createElement("li",null,o.a.createElement("button",{className:t,onClick:function(){return e.loadNote(e.id)}},n))};var p=function(e){var t,n;return null!==e.currentNoteData&&(t=e.currentNoteData.title,n=e.currentNoteData.content),o.a.createElement("div",{className:"note-area"},o.a.createElement("textarea",{value:t,className:"note-title",onChange:function(t){return e.handleTitleChange(t,e.noteKey)}}),o.a.createElement("textarea",{value:n,className:"note",onChange:e.handleChange,placeholder:"Write something\u2026"}))};var v=function(e){var t="button ";return e.position&&(t+=e.position),o.a.createElement("button",{className:t,onClick:e.function},e.label)};var m=function(e){var t="drop-down";return e.dropDownOpen&&(t+=" -active"),o.a.createElement("div",{className:t},o.a.createElement("button",{className:"dropDown__button",onClick:function(){return e.createNewNote()}},"New Note"),o.a.createElement("button",{className:"dropDown__button",onClick:function(){return e.deleteNote(e.currentNoteID)}},"Delete Note"))},f=function(e){Object(h.a)(n,e);var t=Object(N.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).setWrapperRef=a.setWrapperRef.bind(Object(d.a)(a)),a.handleClickOutside=a.handleClickOutside.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"handleClickOutside",value:function(e){this.wrapperRef&&!this.wrapperRef.contains(e.target)&&(console.log("You clicked outside of me!"),this.props.function())}},{key:"render",value:function(){return this.props.listen?document.addEventListener("click",this.handleClickOutside):document.removeEventListener("click",this.handleClickOutside),o.a.createElement("div",{ref:this.setWrapperRef},this.props.children)}}]),n}(o.a.Component),O=function(e){Object(h.a)(n,e);var t=Object(N.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={menuOpen:!1,dropDownOpen:!1,noteList:null,noteIndex:a.loadNoteIndex(),currentNoteID:0,currentNoteIndex:null,indexTicker:a.loadIndexTicker(),currentNoteData:null,smallScreen:!1},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleTitleChange=a.handleTitleChange.bind(Object(d.a)(a)),a.loadNote=a.loadNote.bind(Object(d.a)(a)),a.toggleMenu=a.toggleMenu.bind(Object(d.a)(a)),a.toggleDropDown=a.toggleDropDown.bind(Object(d.a)(a)),a.saveNote=a.saveNote.bind(Object(d.a)(a)),a.createNewNote=a.createNewNote.bind(Object(d.a)(a)),a.deleteNote=a.deleteNote.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){console.log("componentDidMount"),this.loadNoteData(),this.state.noteIndex.length>0?this.loadNote(this.state.noteIndex[0]):this.createNewNote();var e=window.innerWidth,t=!1;e<640&&(t=!0),this.setState((function(e){return{smallScreen:t}}))}},{key:"toggleMenu",value:function(){console.log("toggle menu"),this.setState({menuOpen:!this.state.menuOpen,dropDownOpen:!1})}},{key:"toggleDropDown",value:function(){console.log("toggle dropdown"),this.setState({dropDownOpen:!this.state.dropDownOpen})}},{key:"loadNoteIndex",value:function(){var e;return null!==localStorage.getItem("noteIndex")?e=JSON.parse(localStorage.getItem("noteIndex")):(e=[],localStorage.setItem("noteIndex",JSON.stringify(e))),e}},{key:"loadNoteData",value:function(){for(var e=0;e<this.state.noteIndex.length;e++)this.setState(Object(s.a)({},"note"+e,JSON.parse(localStorage.getItem(this.state.noteIndex[e]))))}},{key:"loadIndexTicker",value:function(){var e;if(localStorage.getItem("indexTicker"))e=JSON.parse(localStorage.getItem("indexTicker"));else{e=0;var t=JSON.stringify(e);localStorage.setItem("indexTicker",t)}return e}},{key:"updateNoteIndex",value:function(e){var t;null!==this.state.noteIndex?(t=this.state.noteIndex).push(e):t=[e],this.setState({noteIndex:t});var n=JSON.stringify(t);localStorage.setItem("noteIndex",n)}},{key:"handleChange",value:function(e){e.target.focus(),this.saveNote(this.state.currentNoteData.title,e.target.value,this.state.currentNoteID),this.setState({currentNoteData:Object(l.a)(Object(l.a)({},this.state.currentNoteData),{},{content:e.target.value}),dropDownOpen:!1})}},{key:"handleTitleChange",value:function(e,t){var n,a=this;this.saveNote(e.target.value,this.state.currentNoteData.content,this.state.currentNoteID),this.setState((n={currentNoteData:Object(l.a)(Object(l.a)({},this.state.currentNoteData),{},{title:e.target.value})},Object(s.a)(n,"note"+t,Object(l.a)(Object(l.a)({},this.state["note"+t]),{},{title:e.target.value})),Object(s.a)(n,"dropDownOpen",!1),n),(function(){return console.log(a.state)}))}},{key:"saveNote",value:function(e,t,n){var a={id:n,title:e,createdDate:"May 16th, 2020",modifiedDate:+new Date,content:t},o=JSON.stringify(a);localStorage.setItem(n,o)}},{key:"loadNote",value:function(e){console.log("load note "+e);var t=JSON.parse(localStorage.getItem(e)),n=this.state.noteIndex.findIndex((function(t){return t===e}));this.setState({currentNoteID:e,currentNoteIndex:n,currentNoteData:t}),this.state.smallScreen&&this.state.menuOpen&&this.toggleMenu()}},{key:"createNewNote",value:function(){var e,t=this,n=JSON.parse(localStorage.getItem("indexTicker"))+1;localStorage.setItem("indexTicker",JSON.stringify(n)),this.saveNote("Note "+n,"",n),this.setState((e={currentNoteID:n,currentNoteIndex:this.state.noteIndex.length},Object(s.a)(e,"note"+this.state.noteIndex.length,{title:"Note "+n}),Object(s.a)(e,"dropDownOpen",!1),e),(function(){t.updateNoteIndex(n),t.loadNote(n),console.log(t.state)}))}},{key:"deleteNote",value:function(e){localStorage.removeItem(e);for(var t=0;t<this.state.noteIndex.length;t++)if(this.state.noteIndex[t]===e){var n=this.state.noteIndex.slice();n.splice(t,1),console.log(n),localStorage.setItem("noteIndex",JSON.stringify(n)),0===n.length?(console.log("its zero"),this.createNewNote()):(this.setState({noteIndex:n,currentNoteID:this.state.noteIndex[t-1],currentNoteIndex:t-1,dropDownOpen:!1}),this.loadNote(this.state.noteIndex[t-1]));break}}},{key:"render",value:function(){var e=[];if(null!==this.state.noteIndex&&null!==this.state.currentNoteData)for(var t=0;t<this.state.noteIndex.length;t++){var n="";this.state["note"+t]&&(n=this.state["note"+t].title),e.push(o.a.createElement(g,{loadNote:this.loadNote,id:this.state.noteIndex[t],title:n,activeTitle:this.state.currentNoteData.title,key:t,selectedNote:this.state.currentNoteID}))}var a="menu";return this.state.menuOpen&&(a+=" active"),o.a.createElement("div",{className:"App"},o.a.createElement(v,{label:"Notes",function:this.toggleMenu,position:"top-left"}),o.a.createElement(v,{label:"Options",function:this.toggleDropDown,position:"top-right"}),o.a.createElement(f,{function:this.toggleDropDown,listen:this.state.dropDownOpen},o.a.createElement(m,{deleteNote:this.deleteNote,createNewNote:this.createNewNote,currentNoteID:this.state.currentNoteID,saveNote:this.saveNote,dropDownOpen:this.state.dropDownOpen})),o.a.createElement("div",{className:a},o.a.createElement(v,{label:"Close",function:this.toggleMenu}),o.a.createElement("ul",{className:"note-list"},e)),o.a.createElement(p,{currentNoteData:this.state.currentNoteData,handleChange:this.handleChange,handleTitleChange:this.handleTitleChange,noteKey:this.state.currentNoteIndex}))}}]),n}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.9c30fefb.chunk.js.map